{"mappings":"AAAA,IAAIA,QAAU,CACVC,OAAQ,mCACRC,aAAc,SAAUC,GACpBC,MACA,qDACED,EAEA,uBACAE,KAAKJ,QAENK,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,GAASJ,KAAKK,eAAeD,MAExCC,eAAgB,SAASD,GAErB,MAAME,KAACA,GAAQF,GAETG,KAACA,EAAIC,YAAEA,GAAeJ,EAAKT,QAAQ,IACnCc,KAACA,EAAIC,SAAEA,GAAYN,EAAKO,MACxBC,MAACA,GAASR,EAAKS,KACrBC,QAAQC,IAAKT,EAAMC,EAAMC,EAAaC,EAAMC,EAAUE,GAEtDI,SAASC,cAAc,SAASC,UAAY,cAAgBZ,EAC5DU,SAASC,cAAc,SAASE,IAAM,mCAAqCZ,EAAO,OAClFS,SAASC,cAAc,gBAAgBC,UAAYV,EACnDQ,SAASC,cAAc,SAASC,UAAYT,EAAO,KACnDO,SAASC,cAAc,aAAaC,UAAY,aAAeR,EAAW,IAC1EM,SAASC,cAAc,SAASC,UAAY,cAAgBN,EAAQ,OACpEI,SAASC,cAAc,YAAYG,UAAUC,OAAO,WACpDL,SAASM,KAAKC,MAAMC,gBAAkB,8CAAgDlB,EAAO,MAIjGmB,OAAQ,WACJzB,KAAKH,aAAamB,SAASC,cAAc,eAAeS,SAKhEV,SAASC,cAAc,kBAAkBU,iBAAiB,SAAS,WAC/DhC,QAAQ8B,YAIZT,SAASC,cAAc,eACtBU,iBAAiB,SAAS,SAASC,GACd,UAAdA,EAAMC,KACNlC,QAAQ8B,YAIhB9B,QAAQE,aAAa","sources":["script.js"],"sourcesContent":["let weather = {\r\n    apiKey: \"543c1ad263070896cac0d08ed8f50bfe\",\r\n    fetchWeather: function (city) {\r\n        fetch (\r\n        \"https://api.openweathermap.org/data/2.5/weather?q=\" \r\n        + city \r\n        //I have added the units and changed them to metric to be in line with the current WW weather metrics;  //I have added here apiKey\r\n        + \"&units=metric&appid=\" \r\n        + this.apiKey\r\n        )\r\n        .then((response) => response.json())\r\n        .then((data) => this.displayWeather(data));\r\n    },\r\n    displayWeather: function(data) {\r\n        //I am defining the data which I want to take from the API and return it.\r\n        const {name} = data;\r\n        //Make sure to also log the array to extract the property, in this case the icon description\r\n        const {icon, description} = data.weather[0];\r\n        const {temp, humidity} = data.main;\r\n        const {speed} = data.wind;\r\n        console.log (name, icon, description, temp, humidity, speed)\r\n        //Now linking each parameter to the DOM in order to return it\r\n        document.querySelector(\".city\").innerText = \"Weather in \" + name;\r\n        document.querySelector(\".icon\").src = \"http://openweathermap.org/img/w/\" + icon + \".png\"\r\n        document.querySelector(\".description\").innerText = description;\r\n        document.querySelector(\".temp\").innerText = temp + \"Â°C\";\r\n        document.querySelector(\".humidity\").innerText = \"Humidity: \" + humidity + \"%\";\r\n        document.querySelector(\".wind\").innerText = \"Wind speed:\" + speed + \" kmh\";\r\n        document.querySelector(\".weather\").classList.remove(\"loading\"),\r\n        document.body.style.backgroundImage = \"url('https://source.unsplash.com/1600x900/?\" + name + \"')\"\r\n        // document.body.style.backgroundImage = \"url('https://maps.googleapis.com/maps/api/place/photo/1600x900?\" + name + \"')\"\r\n    },\r\n    //Adding functionality to the search bar with a querySelector and \r\n    search: function (){\r\n        this.fetchWeather(document.querySelector(\".search-bar\").value)\r\n    }\r\n};\r\n\r\n//Making the search bar work by clicking on the search button\r\ndocument.querySelector(\".search button\").addEventListener(\"click\", function () {\r\n    weather.search();\r\n})\r\n\r\n//Making the search bar work by hitting enter\r\ndocument.querySelector(\".search-bar\")\r\n.addEventListener(\"keyup\", function(event) {\r\n    if (event.key === \"Enter\") {\r\n        weather.search()\r\n    }\r\n})\r\n\r\nweather.fetchWeather(\"Romania\")\r\n"],"names":["weather","apiKey","fetchWeather","city","fetch","this","then","response","json","data","displayWeather","name","icon","description","temp","humidity","main","speed","wind","console","log","document","querySelector","innerText","src","classList","remove","body","style","backgroundImage","search","value","addEventListener","event","key"],"version":3,"file":"index.fa97e77a.js.map"}